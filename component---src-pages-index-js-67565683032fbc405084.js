(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Okiq:function(e,a,t){"use strict";t("f3/d");var r=t("q1tI"),n=t.n(r),i=t("ZMKu"),c=t("IP2g"),l=t("PljX"),s=t.n(l),o=t("fw5G"),u=t.n(o),m=t("olnR"),d=t.n(m);function g(e){var a=e.power,t=e.weight,r=e.officialWeight,i=e.imageUrl,c=t||r,l=Math.round(10*c/a)/10,s={width:100*a/1200+"%"},o={width:100*c/2500+"%"},m={width:100*l/20+"%"},g=function(e){var a=null;if(e){var t=e.lastIndexOf(".");if(t>=0){var r=e.substr(t),n=e.substr(0,t),i=n.lastIndexOf(".");a=""+(i>=0?n.substr(i+1):n)+r}}return a}(new u.a(i).uriParts.host);return n.a.createElement("article",{className:d.a.card},n.a.createElement("section",{className:d.a.bars},n.a.createElement("div",{className:d.a.barTitle},n.a.createElement("legend",null,"Puissance"),n.a.createElement("span",null,n.a.createElement("span",{className:d.a.power},a),"hp")),n.a.createElement("div",{className:[d.a.bar,d.a.barPower].join(" "),style:s}),n.a.createElement("div",{className:d.a.barTitle},n.a.createElement("legend",null,"Poids ",t?"constaté":"officiel"),n.a.createElement("span",null,n.a.createElement("span",{className:d.a.weight},c),"kg")),n.a.createElement("div",{className:[d.a.bar,d.a.barWeight].join(" "),style:o}),n.a.createElement("div",{className:d.a.barTitle},n.a.createElement("legend",null,"Rapport"),n.a.createElement("span",null,n.a.createElement("span",{className:d.a.ratio},l),"kg/hp")),n.a.createElement("div",{className:[d.a.bar,d.a.barRatio].join(" "),style:m}),n.a.createElement("legend",null,"Source : ",n.a.createElement("a",{href:"http://weightcars-fr.com"},"weightcars-fr.com")),g&&n.a.createElement("legend",null,"Photo : ",n.a.createElement("a",{href:"http://"+g},g))))}t.d(a,"a",(function(){return f}));var f=function(e){var a=e.car,t=a.model.brand.name+" "+a.variant,l=Object(r.useState)(0),o=l[0],u=l[1],m="/images/"+a.mongodb_id+"-resized.jpg",d=null;return d=0===o?n.a.createElement(i.a.img,{src:m,className:s.a.image,alt:t,initial:{opacity:0},animate:{opacity:1}}):n.a.createElement(g,{brand:a.model.brand.name,variant:a.variant,power:a.power,weight:a.weight,officialWeight:a.officialWeight,startYear:a.startYear,imageUrl:a.selectedFavcarsUrl}),n.a.createElement("article",{className:s.a.card},n.a.createElement("div",{href:a.imageUrl,className:s.a.imageContainer},d),n.a.createElement("div",{className:s.a.carCaption},n.a.createElement("div",{className:s.a.switchButtons},1===o&&n.a.createElement("button",{className:["icon-button","icon",s.a.iconButton].join(" ")},n.a.createElement(c.a,{icon:"image",size:"2x",onClick:function(){u(o-1)}})),0===o&&n.a.createElement("button",{className:["icon-button","icon",s.a.iconButton].join(" ")},n.a.createElement(c.a,{icon:"th-list",size:"2x",onClick:function(){u(o+1)}}))),n.a.createElement("div",{className:s.a.carTitle},n.a.createElement("h3",{className:s.a.carLongLabel,title:t},t)),n.a.createElement("div",{className:s.a.carYear},a.startYear)))}},RXBc:function(e,a,t){"use strict";t.r(a);t("f3/d"),t("a1Th"),t("Btvt"),t("dRSK"),t("91GP");var r=t("fw5G"),n=t.n(r),i=t("q1tI"),c=t.n(i),l=(t("dW83"),t("IP2g")),s=t("X7BR"),o=function(e){for(var a=[],t=0;t<3;t++)a.push(e(t));return a},u=function(e){return o((function(a){return e("car"+(a+1),a)}))},m=t("NLiy"),d=t.n(m),g=t("ZMKu"),f=t("dmJ+"),E=t.n(f),h=function(){return c.a.createElement("div",{className:[E.a.titleContainer,"badge"].join(" ")},c.a.createElement("h1",{className:[E.a.title].join(" ")},c.a.createElement(g.a.div,{className:E.a.chromeText,animate:{backgroundImage:["linear-gradient(to right, #EEE, #666, #444)","linear-gradient(to right, #666, #EEE, #666)","linear-gradient(to right, #666, #666, #EEE)","linear-gradient(to right, #CCC, #EEE, #CCC)"]},transition:{duration:2,ease:"easeInOut"}},"Perfect Garage")),c.a.createElement("h4",{className:E.a.subTitle},"Votre garage idéal en trois voitures de sport"))},v=t("Bl7J"),p=t("6d1X"),b=t("Okiq");t.d(a,"default",(function(){return y})),t.d(a,"query",(function(){return C}));var w=function(e){return"car-"+e},N=function(e){return"edit-"+e},y=function(e){var a,t;function r(a){var t;t=e.call(this,a)||this;var r=new n.a(a.location.href),i=r.getQueryParamValue("edit"),c=r.getQueryParamValue("car");i&&c&&(r.replaceQueryParam("car"+i,c),t.setState({saveOk:!1})),r.deleteQueryParam("edit"),r.deleteQueryParam("car");var l=Object.assign({},t.state),m="undefined"!=typeof window&&window;return m&&u((function(e){var t=r.getQueryParamValue(e)||localStorage.getItem(e);if(t){var n=a.data[s.b+"Cars"].edges.find((function(e){return e.node.mongodb_id===t}));n?(r.getQueryParamValue(e)||r.addQueryParam(e,n.node),l[e]=n.node):r.getQueryParamValue(e)||localStorage.removeItem(e)}})),l.uri=r.toString(),m&&(l.saveOk=u((function(e){return l[e]===localStorage.getItem(e)})).every((function(e){return!!e}))),t.state=l,m&&setTimeout((function(){o((function(e){return document.querySelector("#"+N(e+1)).style.opacity="1"}))}),500),t}return t=e,(a=r).prototype=Object.create(t.prototype),a.prototype.constructor=a,a.__proto__=t,r.prototype.render=function(){var e=this,a=function(a,t){var r=[d.a.car];2===t&&r.push(d.a.car2),a?r.push(d.a.withCar):r.push(d.a.noCar);var i=s.a[t-1],o=a?c.a.createElement(b.a,{id:w(t),title:i,className:d.a.carComponent,car:a,initial:{opacity:0},animate:{opacity:1}}):c.a.createElement("div",{className:d.a.noCarThumbnail},"?");return c.a.createElement("div",{className:r.join(" ")},c.a.createElement("div",{id:N(t),className:d.a.iconButtonContainer},c.a.createElement("button",{className:d.a.iconButton+" icon-button",onClick:function(){return function(a){var t=new n.a(e.state.uri);t.setPath("/browse"),t.addQueryParam("edit",a),window.location.href=t.toString()}(t)}},c.a.createElement(l.a,{icon:"edit"}))),o,c.a.createElement("div",{className:[d.a.carLabelContainer,"container","is-full"].join(" ")},c.a.createElement("span",{className:[d.a.carLabel,"badge"].join(" ")},i)))},t=a(this.state.car1,1),r=a(this.state.car2,2),i=a(this.state.car3,3),o=u((function(a){return e.state[a]?e.state[a].model.name:null})).filter((function(e){return!!e})).join("/");return c.a.createElement(v.b,{location:this.state.uri,save:function(){for(var a=1;a<=3;a++){var t="car"+a;localStorage.setItem(t,e.state[t]),e.setState({saveOk:!0,showSaveMessage:!0}),setTimeout((function(){return e.setState({showSaveMessage:!1})}),1e3)}},title:o,uri:this.state.uri,saveDisabled:this.state.saveOk,showSaveMessage:this.state.showSaveMessage},c.a.createElement(p.a,{location:this.props.location.pathname,title:o,uri:this.state.uri,description:"Créez et partagez votre garage idéal en 3 voitures de sport"}),c.a.createElement(h,null),c.a.createElement("article",{className:d.a.carsContainer},t," ",r," ",i))},r}(c.a.Component),C="1696405688"}}]);
//# sourceMappingURL=component---src-pages-index-js-67565683032fbc405084.js.map