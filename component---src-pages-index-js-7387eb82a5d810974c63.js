(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{RXBc:function(e,a,t){"use strict";t.r(a);t("a1Th"),t("Btvt"),t("dRSK");var n=t("fw5G"),r=t.n(n),i=t("q1tI"),c=t.n(i),l=(t("dW83"),t("G/tF")),o=(t("f3/d"),t("NLiy")),s=t.n(o),u=t("X7BR"),m=t("IP2g"),d=t("idsO"),g=t.n(d),f=function(e){var a=e.empty,t=e.marginCard,n=e.index,r=e.edit,i=e.render,l=e.editButtonId,o=e.title,s=[g.a.card];return t&&s.push(g.a.marginCard),a?s.push(g.a.cardWithoutCar):s.push(g.a.cardWithCar),c.a.createElement("div",{className:s.join(" ")},c.a.createElement("div",{id:l,className:g.a.iconButtonContainer},c.a.createElement("button",{type:"button",className:g.a.iconButton+" icon-button",onClick:function(){return r(n)}},c.a.createElement(m.a,{icon:"edit"}))),i(),c.a.createElement("div",{className:[g.a.carLabelContainer,"container","is-full"].join(" ")},c.a.createElement("span",{className:[g.a.carLabel,"badge"].join(" ")},o)))};f.defaultProps={marginCard:!1,empty:!1};var E=t("ZMKu"),p=t("dmJ+"),v=t.n(p),h=function(){return c.a.createElement("div",{className:[v.a.titleContainer,"badge"].join(" ")},c.a.createElement("h1",{className:[v.a.title].join(" ")},c.a.createElement(E.a.div,{className:v.a.chromeText,animate:{backgroundImage:["linear-gradient(to right, #EEE, #666, #444)","linear-gradient(to right, #666, #EEE, #666)","linear-gradient(to right, #666, #666, #EEE)","linear-gradient(to right, #CCC, #EEE, #CCC)"]},transition:{duration:1,ease:"easeInOut"}},"Perfect Garage")),c.a.createElement("h4",{className:v.a.subTitle},"Votre garage idéal en trois voitures de sport"))},b=t("Bl7J"),y=t("6d1X"),N=t("PljX"),w=t.n(N),C=t("olnR"),j=t.n(C);function P(e){var a=e.power,t=e.weight,n=e.officialWeight,i=e.imageUrl,l=t||n,o=Math.round(10*l/a)/10,s={width:100*a/1200+"%"},u={width:100*l/2500+"%"},m={width:100*o/20+"%"},d=function(e){var a=null;if(e){var t=e.lastIndexOf(".");if(t>=0){var n=e.substr(t),r=e.substr(0,t),i=r.lastIndexOf(".");a=""+(i>=0?r.substr(i+1):r)+n}}return a}(new r.a(i).uriParts.host);return c.a.createElement("article",{className:j.a.card},c.a.createElement("section",{className:j.a.bars},c.a.createElement("div",{className:j.a.barTitle},c.a.createElement("legend",null,"Puissance"),c.a.createElement("span",null,c.a.createElement("span",{className:j.a.power},a),"hp")),c.a.createElement("div",{className:[j.a.bar,j.a.barPower].join(" "),style:s}),c.a.createElement("div",{className:j.a.barTitle},c.a.createElement("legend",null,"Poids ",t?"constaté":"officiel"),c.a.createElement("span",null,c.a.createElement("span",{className:j.a.weight},l),"kg")),c.a.createElement("div",{className:[j.a.bar,j.a.barWeight].join(" "),style:u}),c.a.createElement("div",{className:j.a.barTitle},c.a.createElement("legend",null,"Rapport"),c.a.createElement("span",null,c.a.createElement("span",{className:j.a.ratio},o),"kg/hp")),c.a.createElement("div",{className:[j.a.bar,j.a.barRatio].join(" "),style:m}),c.a.createElement("legend",null,"Source : ",c.a.createElement("a",{href:"http://weightcars-fr.com"},"weightcars-fr.com")),d&&c.a.createElement("legend",null,"Photo : ",c.a.createElement("a",{href:"http://"+d},d))))}var O=function(e){var a=e.car,t=Object(l.c)(a),n=Object(i.useState)(0),r=n[0],o=n[1],s="/images/"+a.mongodb_id+"-resized.jpg",u=null;return u=0===r?c.a.createElement(E.a.img,{src:s,className:w.a.image,alt:t,initial:{opacity:0},animate:{opacity:1}}):c.a.createElement(P,{brand:a.model.brand.name,variant:a.variant,power:a.power,weight:a.weight,officialWeight:a.officialWeight,startYear:a.startYear,imageUrl:a.selectedFavcarsUrl}),c.a.createElement("article",{className:w.a.card},c.a.createElement("div",{href:a.imageUrl,className:w.a.imageContainer},u),c.a.createElement("div",{className:w.a.carCaption},c.a.createElement("div",{className:w.a.switchButtons},1===r&&c.a.createElement("button",{type:"button",className:["icon-button","icon",w.a.iconButton].join(" ")},c.a.createElement(m.a,{icon:"image",size:"2x",onClick:function(){o(r-1)}})),0===r&&c.a.createElement("button",{type:"button",className:["icon-button","icon",w.a.iconButton].join(" ")},c.a.createElement(m.a,{icon:"exchange-alt",size:"2x",onClick:function(){o(r+1)}}))),c.a.createElement("div",{className:w.a.carTitle},c.a.createElement("h3",{className:w.a.carLongLabel,title:t},t)),c.a.createElement("div",{className:w.a.carYear},a.startYear)))};t.d(a,"query",(function(){return I}));var k=function(e){return"car-"+e},B=function(e){return"edit-"+e},S=function(e){var a,t;function n(a){var t;t=e.call(this,a)||this;var n=new r.a(a.location.href),i=n.getQueryParamValue("edit"),c=n.getQueryParamValue("car"),o={saveMessage:null};i&&c&&(n.replaceQueryParam("car"+i,c),o.saveOk=!1),n.deleteQueryParam("edit"),n.deleteQueryParam("car");var s="undefined"!=typeof window&&window;return o.cars=[],s&&Object(l.a)((function(e,t){o.cars[t]=null;var r=n.getQueryParamValue(e)||localStorage.getItem(e);if(r){var i=a.data.allMongodbBmbu7Ynqra11RqiCars.edges.find((function(e){return e.node.mongodb_id===r}));i?(n.getQueryParamValue(e)||n.addQueryParam(e,i.node),o.cars[t]=i.node):n.getQueryParamValue(e)||localStorage.removeItem(e)}})),o.uri=n.toString(),s&&(o.saveOk=Object(l.a)((function(e,a){return o.cars[a]===localStorage.getItem(e)})).every((function(e){return!!e}))),t.state=o,s&&setTimeout((function(){Object(l.b)((function(e){document.querySelector("#"+B(e+1)).style.opacity="1"}))}),200),t}return t=e,(a=n).prototype=Object.create(t.prototype),a.prototype.constructor=a,a.__proto__=t,n.prototype.render=function(){var e=this,a=this.state,t=a.uri,n=a.saveOk,i=a.cars,o=a.saveMessage,m=this.props.location,d=function(e){var a=new r.a(t);a.setPath("/browse"),a.addQueryParam("edit",e),window.location.href=a.toString()},g=i.map((function(e,a){return function(e,a){var t=u.a[a-1],n=e?c.a.createElement(O,{id:k(a),title:t,className:s.a.carComponent,car:e,initial:{opacity:0},animate:{opacity:1}}):c.a.createElement("div",{className:s.a.noCarThumbnail},"?");return c.a.createElement(f,{key:"card-"+e.mongodb_id,marginCard:2===a,empty:!e,index:a,title:t,edit:d,render:function(){return n},editButtonId:B(a)})}(e,a+1)})),E=i.map((function(e){return e?Object(l.c)(e):null})).filter((function(e){return!!e})).join("\n");return c.a.createElement(b.a,{location:t,save:function(){var a=function(e){var a=e.map((function(e){return e.model.name})).join("/"),t=JSON.stringify(e);return localStorage.setItem(a,t),a}(i);e.setState({saveOk:!0,saveMessage:'Garage sauvegardé "'+a+'"'}),setTimeout((function(){return e.setState({saveMessage:null})}),2e3)},title:E,uri:t,saveDisabled:n,saveMessage:o},c.a.createElement(y.a,{location:m.pathname,title:E,uri:t,description:"Créez et partagez votre garage idéal en 3 voitures de sport"}),c.a.createElement(h,null),c.a.createElement("article",{className:s.a.carsContainer},g))},n}(c.a.Component),I="1647371869";a.default=S},X7BR:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));var n=["Daily","Collector","Perfs"]}}]);
//# sourceMappingURL=component---src-pages-index-js-7387eb82a5d810974c63.js.map