(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{RXBc:function(e,a,t){"use strict";t.r(a);t("XfO3"),t("HEwt"),t("rE2o"),t("ioFf"),t("rGqo"),t("a1Th"),t("Btvt"),t("dRSK");var n=t("fw5G"),r=t.n(n),i=t("q1tI"),c=t.n(i),o=t("kCIJ"),l=(t("dW83"),t("G/tF")),s=t("I/LR"),u=function(e){return e+"-label"},m=function(e,a){var t=new r.a(a.toString());return Object(l.a)((function(a,n){e[n]&&(t.replaceQueryParam(a,e[n].mongodb_id),t.replaceQueryParam(u(a),e[n].label))})),t},d=t("NLiy"),f=t.n(d),g=function(e,a){return a.formatMessage({id:"label_"+e})},p=t("IP2g"),b=t("idsO"),E=t.n(b),h=function(e){var a=e.empty,t=e.marginCard,n=e.index,r=e.edit,o=e.render,l=e.editButtonId,s=e.label,u=e.onLabelChanged,m=[E.a.card];t&&m.push(E.a.marginCard),a?m.push(E.a.cardWithoutCar):m.push(E.a.cardWithCar);var d=Object(i.useState)(s),f=d[0],g=d[1],b=Object(i.useState)(!1),h=b[0],v=b[1],y=[E.a.carLabel,"badge"];return u&&y.push(E.a.carLabelEdit),c.a.createElement("div",{className:m.join(" ")},c.a.createElement("div",{id:l,className:E.a.iconButtonContainer},c.a.createElement("button",{type:"button",className:E.a.iconButton+" icon-button",onClick:function(){return r(n)}},c.a.createElement(p.a,{icon:"edit"}))),o(),c.a.createElement("div",{className:[E.a.carLabelContainer,"container","is-full"].join(" ")},c.a.createElement("div",{className:y.join(" ")},h&&c.a.createElement("p",{className:"control has-text-dark",style:{display:"flex"}},c.a.createElement("input",{id:"search-input",type:"text",onChange:function(e){var a=e.target.value;return g(a)},className:"input",style:{flex:1},value:f}),c.a.createElement("button",{type:"button",className:E.a.iconButton+" icon-button",onClick:function(){g(s),v(!1)}},c.a.createElement(p.a,{icon:"times"})),c.a.createElement("button",{type:"button",className:E.a.iconButton+" icon-button",onClick:function(){v(!1),u(f)}},c.a.createElement(p.a,{icon:"check"}))),!h&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{flex:1}},s),u&&c.a.createElement("button",{type:"button",className:E.a.iconButton+" icon-button",onClick:function(){v(!0)}},c.a.createElement(p.a,{icon:"edit"}))))))};h.defaultProps={marginCard:!1,empty:!1,onLabelChanged:null};var v=t("ZMKu"),y=t("dmJ+"),w=t.n(y),N=function(){var e=Object(o.useIntl)();return c.a.createElement("div",{className:[w.a.titleContainer,"badge"].join(" ")},c.a.createElement("h1",{className:[w.a.title].join(" ")},c.a.createElement(v.a.div,{className:w.a.chromeText,animate:{backgroundImage:["linear-gradient(to right, #EEE, #666, #444)","linear-gradient(to right, #666, #EEE, #666)","linear-gradient(to right, #666, #666, #EEE)","linear-gradient(to right, #CCC, #EEE, #CCC)"]},transition:{duration:1,ease:"easeInOut"}},e.formatMessage({id:"components.title.title"}))),c.a.createElement("h4",{className:w.a.subTitle},e.formatMessage({id:"components.title.subtitle"})))},C=t("Bl7J"),j=t("6d1X"),O=(t("f3/d"),t("PljX")),S=t.n(O),k=t("olnR"),M=t.n(k),P=function(e){var a=e.power,t=e.weight,n=e.officialWeight,i=e.imageUrl,l=Object(o.useIntl)(),s=t||n,u=t?l.formatMessage({id:"components.spec.observed_weight"}):l.formatMessage({id:"components.spec.official_weight"}),m=Math.round(10*s/a)/10,d={width:100*a/1200+"%"},f={width:100*s/2500+"%"},g={width:100*m/20+"%"},p=function(e){var a=null;if(e){var t=e.lastIndexOf(".");if(t>=0){var n=e.substr(t),r=e.substr(0,t),i=r.lastIndexOf(".");a=""+(i>=0?r.substr(i+1):r)+n}}return a}(new r.a(i).uriParts.host),b=l.formatMessage({id:"components.spec.hp"});return c.a.createElement("section",{className:M.a.specContainer},c.a.createElement("div",{className:M.a.barTitle},c.a.createElement("legend",null,l.formatMessage({id:"components.spec.power"})),c.a.createElement("span",null,c.a.createElement("span",{className:M.a.power},a),b)),c.a.createElement("div",{className:[M.a.bar,M.a.barPower].join(" "),style:d}),c.a.createElement("div",{className:M.a.barTitle},c.a.createElement("legend",null,u),c.a.createElement("span",null,c.a.createElement("span",{className:M.a.weight},s),"kg")),c.a.createElement("div",{className:[M.a.bar,M.a.barWeight].join(" "),style:f}),c.a.createElement("div",{className:M.a.barTitle},c.a.createElement("legend",null,l.formatMessage({id:"components.spec.ratio"})),c.a.createElement("span",null,c.a.createElement("span",{className:M.a.ratio},m),"kg/"+b)),c.a.createElement("div",{className:[M.a.bar,M.a.barRatio].join(" "),style:g}),c.a.createElement("legend",null,"Source : ",c.a.createElement("a",{href:"http://weightcars-fr.com"},"weightcars-fr.com")),p&&c.a.createElement("legend",null,"Photo : ",c.a.createElement("a",{href:"http://"+p},p)))};P.defaultProps={weight:null,imageUrl:null};var I=P,x=function(e){var a=e.car,t=Object(l.c)(a),n=Object(i.useState)(0),r=n[0],o=n[1],s="/images/"+a.mongodb_id+"-resized.jpg",u=null;return u=0===r?c.a.createElement(v.a.img,{src:s,className:S.a.image,alt:t,initial:{opacity:0},animate:{opacity:1}}):c.a.createElement(I,{brand:a.model.brand.name,variant:a.variant,power:a.power,weight:a.weight,officialWeight:a.officialWeight,startYear:a.startYear,imageUrl:a.selectedFavcarsUrl}),c.a.createElement("article",{className:S.a.card},c.a.createElement("div",{href:a.imageUrl,className:S.a.imageContainer},u),c.a.createElement("div",{className:S.a.carCaption},c.a.createElement("div",{className:S.a.switchButtons},1===r&&c.a.createElement("button",{type:"button",className:["icon-button","icon",S.a.iconButton].join(" ")},c.a.createElement(p.a,{icon:"image",size:"2x",onClick:function(){o(r-1)}})),0===r&&c.a.createElement("button",{type:"button",className:["icon-button","icon",S.a.iconButton].join(" ")},c.a.createElement(p.a,{icon:"exchange-alt",size:"2x",onClick:function(){o(r+1)}}))),c.a.createElement("div",{className:S.a.carTitle},c.a.createElement("h3",{className:S.a.carLongLabel,title:t},t)),c.a.createElement("div",{className:S.a.carYear},a.startYear)))};function B(e){return function(e){if(Array.isArray(e)){for(var a=0,t=new Array(e.length);a<e.length;a++)t[a]=e[a];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.d(a,"query",(function(){return Q}));var L=function(e){return"car-"+e},_=function(e){return"edit-"+e},T=function(e){var a,t;function n(a){var t;t=e.call(this,a)||this;var n=new r.a(a.location.href),i={saveMessage:null,saveOk:!function(e){var a=e.getQueryParamValue("edit"),t=e.getQueryParamValue("car");return!(!a||!t)&&(e.deleteQueryParam("edit"),e.deleteQueryParam("car"),e.replaceQueryParam("car"+a,t),!0)}(n)},c="undefined"!=typeof window&&window;if((i.cars=[],c)&&(function(e){return Object(l.a)((function(a){return{carId:e.getQueryParamValue(a),carLabel:e.getQueryParamValue(u(a))}})).map((function(e){return e.carId?e:null}))}(n).forEach((function(e,t){if(i.cars[t]=null,e){var n=e.carId,r=e.carLabel;if(n){var c=a.data.allMongodbBmbu7Ynqra11RqiCars.edges.find((function(e){return e.node.mongodb_id===n}));c&&(i.cars[t]=c.node,i.cars[t].label=r||g(t+1,a.intl))}}})),!i.cars.some((function(e){return!!e})))){var o=Object(s.b)();o.length>0&&(i.cars=o[0],n=m(i.cars,n))}return i.uri=n,i.saveOk=!c||!Object(s.d)(i.cars),t.state=i,c&&(history.pushState({foo:"bar"},"",n.toString()),setTimeout((function(){Object(l.b)((function(e){var a=document.querySelector("#"+_(e+1));a&&(a.style.opacity="1")}))}),200)),t}return t=e,(a=n).prototype=Object.create(t.prototype),a.prototype.constructor=a,a.__proto__=t,n.prototype.render=function(){var e=this,a=this.state,t=a.uri,n=a.saveOk,i=a.cars,o=a.saveMessage,u=this.props,d=u.location,p=u.intl,b=function(e){var a=new r.a(t.toString());a.setPath("/browse"),a.addQueryParam("edit",e),window.location.href=a.toString()},E=function(a,n){var r=a?c.a.createElement(x,{id:L(n),className:f.a.carComponent,car:a,initial:{opacity:0},animate:{opacity:1}}):c.a.createElement("div",{className:f.a.noCarThumbnail},"?");return c.a.createElement(h,{key:"card-"+(a?a.mongodb_id:n),marginCard:2===n,empty:!a,index:n,label:a?a.label:g(n,p),edit:b,render:function(){return r},editButtonId:_(n),onLabelChanged:a?function(a){return function(a,n){var r=B(i);r[a].label=n;var c=m(r,t);e.setState({cars:r,saveOk:!Object(s.d)(i),uri:c}),history.pushState({foo:"bar"},"",c.toString())}(n-1,a)}:null})},v=i.map((function(e,a){return E(e,a+1)})),y=i.map((function(e){return e?Object(l.c)(e):null})).filter((function(e){return!!e})).join("\n");return c.a.createElement(C.a,{location:t.toString(),save:function(){var a=Object(s.c)(i),n=m(i,t),r=p.formatMessage({id:"pages.index.garage_saved"});e.setState({saveOk:!0,saveMessage:r+' "'+a+'"',uri:n}),setTimeout((function(){return e.setState({saveMessage:null})}),2e3)},title:y,uri:t.toString(),saveDisabled:n,saveMessage:o,showButtons:!0},c.a.createElement(j.a,{location:d.pathname,title:y,uri:t.toString(),description:p.formatMessage({id:"pages.index.meta.description"})}),c.a.createElement(N,null),c.a.createElement("article",{className:f.a.carsContainer},v))},n}(c.a.Component),Q="1647371869";a.default=Object(o.injectIntl)(T)}}]);
//# sourceMappingURL=component---src-pages-index-js-a54c0f53dc3e0b1b9619.js.map