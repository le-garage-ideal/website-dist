(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{RXBc:function(e,a,t){"use strict";t.r(a);t("a1Th"),t("Btvt"),t("dRSK"),t("91GP");var r=t("fw5G"),n=t.n(r),i=t("q1tI"),c=t.n(i),l=(t("dW83"),t("IP2g")),s=t("X7BR"),o=(t("f3/d"),function(e){for(var a=[],t=0;t<3;t++)a.push(e(t));return a}),u=function(e){return o((function(a){return e("car"+(a+1),a)}))},m=function(e){return e.model.brand.name+" "+e.variant},d=t("NLiy"),g=t.n(d),f=t("ZMKu"),E=t("dmJ+"),h=t.n(E),v=function(){return c.a.createElement("div",{className:[h.a.titleContainer,"badge"].join(" ")},c.a.createElement("h1",{className:[h.a.title].join(" ")},c.a.createElement(f.a.div,{className:h.a.chromeText,animate:{backgroundImage:["linear-gradient(to right, #EEE, #666, #444)","linear-gradient(to right, #666, #EEE, #666)","linear-gradient(to right, #666, #666, #EEE)","linear-gradient(to right, #CCC, #EEE, #CCC)"]},transition:{duration:1,ease:"easeInOut"}},"Perfect Garage")),c.a.createElement("h4",{className:h.a.subTitle},"Votre garage idéal en trois voitures de sport"))},p=t("Bl7J"),b=t("6d1X"),w=t("PljX"),N=t.n(w),y=t("olnR"),C=t.n(y);function P(e){var a=e.power,t=e.weight,r=e.officialWeight,i=e.imageUrl,l=t||r,s=Math.round(10*l/a)/10,o={width:100*a/1200+"%"},u={width:100*l/2500+"%"},m={width:100*s/20+"%"},d=function(e){var a=null;if(e){var t=e.lastIndexOf(".");if(t>=0){var r=e.substr(t),n=e.substr(0,t),i=n.lastIndexOf(".");a=""+(i>=0?n.substr(i+1):n)+r}}return a}(new n.a(i).uriParts.host);return c.a.createElement("article",{className:C.a.card},c.a.createElement("section",{className:C.a.bars},c.a.createElement("div",{className:C.a.barTitle},c.a.createElement("legend",null,"Puissance"),c.a.createElement("span",null,c.a.createElement("span",{className:C.a.power},a),"hp")),c.a.createElement("div",{className:[C.a.bar,C.a.barPower].join(" "),style:o}),c.a.createElement("div",{className:C.a.barTitle},c.a.createElement("legend",null,"Poids ",t?"constaté":"officiel"),c.a.createElement("span",null,c.a.createElement("span",{className:C.a.weight},l),"kg")),c.a.createElement("div",{className:[C.a.bar,C.a.barWeight].join(" "),style:u}),c.a.createElement("div",{className:C.a.barTitle},c.a.createElement("legend",null,"Rapport"),c.a.createElement("span",null,c.a.createElement("span",{className:C.a.ratio},s),"kg/hp")),c.a.createElement("div",{className:[C.a.bar,C.a.barRatio].join(" "),style:m}),c.a.createElement("legend",null,"Source : ",c.a.createElement("a",{href:"http://weightcars-fr.com"},"weightcars-fr.com")),d&&c.a.createElement("legend",null,"Photo : ",c.a.createElement("a",{href:"http://"+d},d))))}var S=function(e){var a=e.car,t=m(a),r=Object(i.useState)(0),n=r[0],s=r[1],o="/images/"+a.mongodb_id+"-resized.jpg",u=null;return u=0===n?c.a.createElement(f.a.img,{src:o,className:N.a.image,alt:t,initial:{opacity:0},animate:{opacity:1}}):c.a.createElement(P,{brand:a.model.brand.name,variant:a.variant,power:a.power,weight:a.weight,officialWeight:a.officialWeight,startYear:a.startYear,imageUrl:a.selectedFavcarsUrl}),c.a.createElement("article",{className:N.a.card},c.a.createElement("div",{href:a.imageUrl,className:N.a.imageContainer},u),c.a.createElement("div",{className:N.a.carCaption},c.a.createElement("div",{className:N.a.switchButtons},1===n&&c.a.createElement("button",{className:["icon-button","icon",N.a.iconButton].join(" ")},c.a.createElement(l.a,{icon:"image",size:"2x",onClick:function(){s(n-1)}})),0===n&&c.a.createElement("button",{className:["icon-button","icon",N.a.iconButton].join(" ")},c.a.createElement(l.a,{icon:"th-list",size:"2x",onClick:function(){s(n+1)}}))),c.a.createElement("div",{className:N.a.carTitle},c.a.createElement("h3",{className:N.a.carLongLabel,title:t},t)),c.a.createElement("div",{className:N.a.carYear},a.startYear)))};t.d(a,"default",(function(){return I})),t.d(a,"query",(function(){return O}));var j=function(e){return"car-"+e},k=function(e){return"edit-"+e},I=function(e){var a,t;function r(a){var t;t=e.call(this,a)||this;var r=new n.a(a.location.href),i=r.getQueryParamValue("edit"),c=r.getQueryParamValue("car");i&&c&&(r.replaceQueryParam("car"+i,c),t.setState({saveOk:!1})),r.deleteQueryParam("edit"),r.deleteQueryParam("car");var l=Object.assign({},t.state),m="undefined"!=typeof window&&window;return m&&u((function(e){var t=r.getQueryParamValue(e)||localStorage.getItem(e);if(t){var n=a.data[s.b+"Cars"].edges.find((function(e){return e.node.mongodb_id===t}));n?(r.getQueryParamValue(e)||r.addQueryParam(e,n.node),l[e]=n.node):r.getQueryParamValue(e)||localStorage.removeItem(e)}})),l.uri=r.toString(),m&&(l.saveOk=u((function(e){return l[e]===localStorage.getItem(e)})).every((function(e){return!!e}))),t.state=l,m&&setTimeout((function(){o((function(e){return document.querySelector("#"+k(e+1)).style.opacity="1"}))}),200),t}return t=e,(a=r).prototype=Object.create(t.prototype),a.prototype.constructor=a,a.__proto__=t,r.prototype.render=function(){var e=this,a=function(a,t){var r=[g.a.car];2===t&&r.push(g.a.car2),a?r.push(g.a.withCar):r.push(g.a.noCar);var i=s.a[t-1],o=a?c.a.createElement(S,{id:j(t),title:i,className:g.a.carComponent,car:a,initial:{opacity:0},animate:{opacity:1}}):c.a.createElement("div",{className:g.a.noCarThumbnail},"?");return c.a.createElement("div",{className:r.join(" ")},c.a.createElement("div",{id:k(t),className:g.a.iconButtonContainer},c.a.createElement("button",{className:g.a.iconButton+" icon-button",onClick:function(){return function(a){var t=new n.a(e.state.uri);t.setPath("/browse"),t.addQueryParam("edit",a),window.location.href=t.toString()}(t)}},c.a.createElement(l.a,{icon:"edit"}))),o,c.a.createElement("div",{className:[g.a.carLabelContainer,"container","is-full"].join(" ")},c.a.createElement("span",{className:[g.a.carLabel,"badge"].join(" ")},i)))},t=a(this.state.car1,1),r=a(this.state.car2,2),i=a(this.state.car3,3),o=u((function(a){return e.state[a]?m(e.state[a]):null})).filter((function(e){return!!e})).join("\n")+"\n";return c.a.createElement(p.a,{location:this.state.uri,save:function(){for(var a=1;a<=3;a++){var t="car"+a;localStorage.setItem(t,e.state[t]),e.setState({saveOk:!0,showSaveMessage:!0}),setTimeout((function(){return e.setState({showSaveMessage:!1})}),2e3)}},title:o,uri:this.state.uri,saveDisabled:this.state.saveOk,showSaveMessage:this.state.showSaveMessage},c.a.createElement(b.a,{location:this.props.location.pathname,title:o,uri:this.state.uri,description:"Créez et partagez votre garage idéal en 3 voitures de sport"}),c.a.createElement(v,null),c.a.createElement("article",{className:g.a.carsContainer},t," ",r," ",i))},r}(c.a.Component),O="1696405688"}}]);
//# sourceMappingURL=component---src-pages-index-js-add70faa389bc74f8bdb.js.map